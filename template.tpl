___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.

___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Journify tracker",
  "categories": [
    "ADVERTISING",
    "DATA_WAREHOUSING"
  ],
  "brand": {
    "id": "journifyio",
    "displayName": "Journify",
    "thumbnail": "data:image/jpeg;base64,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\u003d\u003d"
  },
  "description": "Journify - The Composable Customer Data Platform that helps marketers collect and unify customer profiles, define dynamic audiences, and activate them in real-time.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "tag_type",
    "displayName": "Tag type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "init",
        "displayValue": "init"
      },
      {
        "value": "track",
        "displayValue": "track"
      },
      {
        "value": "page",
        "displayValue": "page"
      },
      {
        "value": "data_layer_event",
        "displayValue": "data layer event"
      },
      {
        "value": "identify",
        "displayValue": "identify"
      },
      {
        "value": "group",
        "displayValue": "group"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "init"
  },
  {
    "type": "TEXT",
    "name": "write_key",
    "displayName": "Write Key",
    "simpleValueType": true,
    "notSetText": "Write key is required",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "init",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "sdk_version",
    "displayName": "Journify SDK version",
    "simpleValueType": true,
    "notSetText": "SDK version is required",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "defaultValue": "latest",
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "init",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "api_host",
    "displayName": "API host (optional)",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "init",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "cdn_host",
    "displayName": "Cdn host (optional)",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "init",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "user_id",
    "displayName": "User ID",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "identify",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "external_ids",
    "displayName": "External IDs",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "identify",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "event_name",
    "displayName": "Event name",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "track",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "track_properties",
    "displayName": "Event properties",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "track",
        "type": "EQUALS"
      },
      {
        "paramName": "tag_type",
        "paramValue": "page",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "user_traits",
    "displayName": "User traits",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "identify",
        "type": "EQUALS"
      },
      {
        "paramName": "tag_type",
        "paramValue": "track",
        "type": "EQUALS"
      },
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      },
      {
        "paramName": "tag_type",
        "paramValue": "page",
        "type": "EQUALS"
      },
      {
        "paramName": "track_page_view_on_init",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "page_name",
    "displayName": "Page name",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "track_page_view_on_init",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "page_properties",
    "displayName": "Page properties",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "page",
        "type": "EQUALS"
      },
      {
        "paramName": "track_page_view_on_init",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "group_id",
    "displayName": "Group ID",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "group",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "group_traits",
    "displayName": "Group traits",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "group",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ga4_recommended_events",
    "displayName": "GA4 recommended events",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "ga4_recommended_events_enabled",
        "checkboxText": "Include GA4 recommended events",
        "simpleValueType": true,
        "defaultValue": true
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "ga4_recommended_events_mapping",
        "displayName": "Recommended events mapping",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Data Layer event name",
            "name": "event_name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Journify event type",
            "name": "event_type",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "identify",
                "displayValue": "identify"
              },
              {
                "value": "group",
                "displayValue": "group"
              },
              {
                "value": "track",
                "displayValue": "track"
              },
              {
                "value": "page",
                "displayValue": "page"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "ga4_recommended_events_enabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "defaultValue": [
          {
            "event_name": "add_payment_info",
            "event_type": "track"
          },
          {
            "event_name": "add_shipping_info",
            "event_type": "track"
          },
          {
            "event_name": "add_to_cart",
            "event_type": "track"
          },
          {
            "event_name": "add_to_wishlist",
            "event_type": "track"
          },
          {
            "event_name": "begin_checkout",
            "event_type": "track"
          },
          {
            "event_name": "earn_virtual_currency",
            "event_type": "track"
          },
          {
            "event_name": "exception",
            "event_type": "track"
          },
          {
            "event_name": "generate_lead",
            "event_type": "track"
          },
          {
            "event_name": "join_group",
            "event_type": "track"
          },
          {
            "event_name": "level_end",
            "event_type": "track"
          },
          {
            "event_name": "level_start",
            "event_type": "track"
          },
          {
            "event_name": "level_up",
            "event_type": "track"
          },
          {
            "event_name": "login",
            "event_type": "track"
          },
          {
            "event_name": "page_view",
            "event_type": "page"
          },
          {
            "event_name": "gtm.init",
            "event_type": "page"
          },
          {
            "event_name": "post_score",
            "event_type": "track"
          },
          {
            "event_name": "purchase",
            "event_type": "track"
          },
          {
            "event_name": "refund",
            "event_type": "track"
          },
          {
            "event_name": "remove_from_cart",
            "event_type": "track"
          },
          {
            "event_name": "search",
            "event_type": "track"
          },
          {
            "event_name": "select_content",
            "event_type": "track"
          },
          {
            "event_name": "select_item",
            "event_type": "track"
          },
          {
            "event_name": "select_promotion",
            "event_type": "track"
          },
          {
            "event_name": "share",
            "event_type": "track"
          },
          {
            "event_name": "sign_up",
            "event_type": "track"
          },
          {
            "event_name": "spend_virtual_currency",
            "event_type": "track"
          },
          {
            "event_name": "tutorial_begin",
            "event_type": "track"
          },
          {
            "event_name": "tutorial_complete",
            "event_type": "track"
          },
          {
            "event_name": "unlock_achievement",
            "event_type": "track"
          },
          {
            "event_name": "view_cart",
            "event_type": "track"
          },
          {
            "event_name": "view_item",
            "event_type": "track"
          },
          {
            "event_name": "view_item_list",
            "event_type": "track"
          },
          {
            "event_name": "view_promotion",
            "event_type": "track"
          },
          {
            "event_name": "view_search_results",
            "event_type": "track"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ga4_enhannced_events",
    "displayName": "GA4 enhanced-measurement events",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "ga4_enhannced_events_enabled",
        "checkboxText": "Include GA4 enhanced-measurement events",
        "simpleValueType": true,
        "defaultValue": false
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "ga4_enhannced_events_mapping",
        "displayName": "Enhanced events mapping",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Data Layer event name",
            "name": "event_name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Journify event type",
            "name": "event_type",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "identify",
                "displayValue": "identify"
              },
              {
                "value": "group",
                "displayValue": "group"
              },
              {
                "value": "track",
                "displayValue": "track"
              },
              {
                "value": "page",
                "displayValue": "page"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "ga4_enhannced_events_enabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "defaultValue": [
          {
            "event_name": "page_view",
            "event_type": "page"
          },
          {
            "event_name": "scroll",
            "event_type": "track"
          },
          {
            "event_name": "click",
            "event_type": "track"
          },
          {
            "event_name": "view_search_results",
            "event_type": "track"
          },
          {
            "event_name": "video_start",
            "event_type": "track"
          },
          {
            "event_name": "video_progress",
            "event_type": "track"
          },
          {
            "event_name": "video_complete",
            "event_type": "track"
          },
          {
            "event_name": "file_download",
            "event_type": "track"
          },
          {
            "event_name": "form_start",
            "event_type": "track"
          },
          {
            "event_name": "form_submit",
            "event_type": "track"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ga4_automatic_events",
    "displayName": "GA4 automatically collected events",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "ga4_automatic_events_enabled",
        "checkboxText": "Include GA4 automatically collected events",
        "simpleValueType": true,
        "defaultValue": false
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "ga4_automatic_events_mapping",
        "displayName": "Automatically collected events mapping",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Data Layer event name",
            "name": "event_name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Journify event type",
            "name": "event_type",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "identify",
                "displayValue": "identify"
              },
              {
                "value": "group",
                "displayValue": "group"
              },
              {
                "value": "track",
                "displayValue": "track"
              },
              {
                "value": "page",
                "displayValue": "page"
              }
            ]
          }
        ],
        "enablingConditions": [
          {
            "paramName": "ga4_automatic_events_enabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "defaultValue": [
          {
            "event_name": "page_view",
            "event_type": "page"
          },
          {
            "event_name": "screen_view",
            "event_type": "page"
          },
          {
            "event_name": "ad_click",
            "event_type": "track"
          },
          {
            "event_name": "ad_exposure",
            "event_type": "track"
          },
          {
            "event_name": "ad_impression",
            "event_type": "track"
          },
          {
            "event_name": "ad_query",
            "event_type": "track"
          },
          {
            "event_name": "ad_reward",
            "event_type": "track"
          },
          {
            "event_name": "adunit_exposure",
            "event_type": "track"
          },
          {
            "event_name": "app_clear_data",
            "event_type": "track"
          },
          {
            "event_name": "app_exception",
            "event_type": "track"
          },
          {
            "event_name": "app_remove",
            "event_type": "track"
          },
          {
            "event_name": "app_store_refund",
            "event_type": "track"
          },
          {
            "event_name": "app_store_subscription_cancel",
            "event_type": "track"
          },
          {
            "event_name": "app_store_subscription_convert",
            "event_type": "track"
          },
          {
            "event_name": "app_store_subscription_renew",
            "event_type": "track"
          },
          {
            "event_name": "app_update",
            "event_type": "track"
          },
          {
            "event_name": "click",
            "event_type": "track"
          },
          {
            "event_name": "dynamic_link_app_open",
            "event_type": "track"
          },
          {
            "event_name": "dynamic_link_app_update",
            "event_type": "track"
          },
          {
            "event_name": "dynamic_link_first_open",
            "event_type": "track"
          },
          {
            "event_name": "error",
            "event_type": "track"
          },
          {
            "event_name": "file_download",
            "event_type": "track"
          },
          {
            "event_name": "firebase_campaign",
            "event_type": "track"
          },
          {
            "event_name": "firebase_in_app_message_action",
            "event_type": "track"
          },
          {
            "event_name": "firebase_in_app_message_dismiss",
            "event_type": "track"
          },
          {
            "event_name": "firebase_in_app_message_impression",
            "event_type": "track"
          },
          {
            "event_name": "first_open",
            "event_type": "track"
          },
          {
            "event_name": "first_visit",
            "event_type": "track"
          },
          {
            "event_name": "form_start",
            "event_type": "track"
          },
          {
            "event_name": "form_submit",
            "event_type": "track"
          },
          {
            "event_name": "in_app_purchase",
            "event_type": "track"
          },
          {
            "event_name": "notification_dismiss",
            "event_type": "track"
          },
          {
            "event_name": "notification_foreground",
            "event_type": "track"
          },
          {
            "event_name": "notification_open",
            "event_type": "track"
          },
          {
            "event_name": "notification_receive",
            "event_type": "track"
          },
          {
            "event_name": "os_update",
            "event_type": "track"
          },
          {
            "event_name": "scroll",
            "event_type": "track"
          },
          {
            "event_name": "session_start",
            "event_type": "track"
          },
          {
            "event_name": "user_engagement",
            "event_type": "track"
          },
          {
            "event_name": "video_complete",
            "event_type": "track"
          },
          {
            "event_name": "video_progress",
            "event_type": "track"
          },
          {
            "event_name": "video_start",
            "event_type": "track"
          },
          {
            "event_name": "view_search_results",
            "event_type": "track"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "additional_mappings",
    "displayName": "Additional mappings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "data_layer_additional_mappings",
        "displayName": "Data layer additional mappings",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Data Layer event name",
            "name": "event_name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Journify event type",
            "name": "event_type",
            "type": "SELECT",
            "selectItems": [
              {
                "value": "identify",
                "displayValue": "identify"
              },
              {
                "value": "group",
                "displayValue": "group"
              },
              {
                "value": "track",
                "displayValue": "track"
              },
              {
                "value": "page",
                "displayValue": "page"
              }
            ]
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "additional_properties",
    "displayName": "Additional properties",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "data_layer_prop_values",
        "displayName": "Additional properties",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Key",
            "name": "key",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "data_layer_event",
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "additional_property_keys",
    "displayName": "Additional data layer property keys",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "additional_data_layer_properties",
        "displayName": "Additional property key",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Property Key",
            "name": "property_key",
            "type": "TEXT"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "data_layer_event",
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "data_layer_event",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "options",
    "displayName": "Additional Init Options",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "track_page_view_on_init",
        "checkboxText": "Track page view after init",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "enable_hashing",
        "checkboxText": "Enable Hashing",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ],
        "help": "Enabling this option will hash all first-party data on the client side."
      },
      {
        "type": "CHECKBOX",
        "name": "auto_capture_pii",
        "checkboxText": "Auto Capture PII",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ],
        "help": "Enabling this option will automatically capture PII on any page."
      },
      {
        "type": "TEXT",
        "name": "session_duration_min",
        "displayName": "Session duration in minutes (optional)",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "cookie_domain",
        "displayName": "Cookie domain (optional)",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "http_cookie_service_renew_endpoint",
        "simpleValueType": true,
        "help": "For setup instructions, refer to the documentation: https://docs.journify.io/tracking/first-party-tracking#server-setup",
        "canBeEmptyString": true,
        "displayName": "HTTP Cookie Service Renew Endpoint (optional)",
        "enablingConditions": [
          {
            "paramName": "tag_type",
            "paramValue": "init",
            "type": "EQUALS"
          }
        ],
        "valueHint": "/jrf/renew"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "tag_type",
        "paramValue": "init",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const log = require('logToConsole');
const makeNumber = require('makeNumber');
const makeTableMap = require('makeTableMap');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const copyFromDataLayer = require('copyFromDataLayer');
const getType = require('getType');
const readTitle = require('readTitle');

// constants
const DEFAULT_SDK_VERSION = 'latest';
const LOG_PREFIX = '[Journify / GTM] ';
const JOURNIFY_WINDOW_KEY = 'journify';
const JOURNIFY_GTM_CALLS_WINDOW_KEY = 'journifyGtmCalls';

const STANDARD_DATA_LAYER_EVENT_KEYS = [
    'accept_time',
    'achievement_id',
    'aclid',
    'ad_event_id',
    'ad_unit_code',
    'affiliation',
    'anid',
    'campaign',
    'campaign_info_source',
    'cancellation_reason',
    'character',
    'click_timestamp',
    'client_id',
    'content',
    'content_id',
    'content_type',
    'coupon',
    'cp1',
    'creative_name',
    'creative_slot',
    'currency',
    'deferred_analytics_collection',
    'discount',
    'engagement_time_msec',
    'exposure_time',
    'fatal',
    'file_extension',
    'file_name',
    'firebase_error',
    'firebase_error_value',
    'firebase_previous_class',
    'firebase_previous_id',
    'firebase_previous_screen',
    'firebase_screen',
    'firebase_screen_class',
    'firebase_screen_id',
    'form_destination',
    'form_id',
    'form_name',
    'form_start',
    'form_submit_text',
    'free_trial',
    'gclid',
    'group_id',
    'index',
    'introductory_price',
    'item_brand',
    'item_category',
    'item_category2',
    'item_category3',
    'item_category4',
    'item_category5',
    'item_id',
    'item_list_id',
    'item_list_name',
    'item_name',
    'item_variant',
    'items',
    'label',
    'language',
    'level',
    'level_name',
    'link_classes',
    'link_domain',
    'link_id',
    'link_text',
    'link_url',
    'location_id',
    'medium',
    'message_channel',
    'message_device_time',
    'message_id',
    'message_name',
    'message_time',
    'method',
    'outbound',
    'page_encoding',
    'page_location',
    'page_referrer',
    'page_title',
    'payment_type',
    'previous_first_open_count',
    'previous_gmp_app_id',
    'previous_os_version',
    'price',
    'product_id',
    'promotion_id',
    'promotion_name',
    'quantity',
    'renewal_count',
    'reset_analytics_cause',
    'reward_type',
    'reward_value',
    'score',
    'screen_resolution',
    'search_term',
    'shipping',
    'shipping_tier',
    'source',
    'subscription',
    'success',
    'system_app',
    'system_app_update',
    'tax',
    'term',
    'timestamp',
    'topic',
    'transaction_id',
    'unique_search_term',
    'updated_with_analytics',
    'user_agent',
    'value',
    'video_current_time',
    'video_duration',
    'video_percent',
    'video_provider',
    'video_title',
    'video_url',
    'virtual_currency_name',
    'visible'
];

// helpers

const fail = msg => {
    log(LOG_PREFIX + 'Error: ' + msg);
    return data.gtmOnFailure();
};

const init = () => {
    const journify = copyFromWindow(JOURNIFY_WINDOW_KEY);
    if (!dataHasField('write_key')) {
        return fail('`write_key` setting is required when calling `load`');
    }

    const settings = {
        writeKey: data.write_key,
        options: {}
    };

    if (dataHasField('api_host')) {
        settings.apiHost = data.api_host;
    }

    if (dataHasField('cookie_domain')) {
        settings.options.cookie = {
            domain: data.cookie_domain,
        };
    }

    if (dataHasField('session_duration_min')){
        const sessionDurationMin = makeNumber(data.session_duration_min);
        if (typeof sessionDurationMin !== 'undefined') {
            settings.options.sessionDurationMin = sessionDurationMin;
        }
    }

    if (dataHasField('cdn_host')) {
        settings.cdnHost = data.cdn_host;
    }
    
    if (dataHasField('http_cookie_service_renew_endpoint')){
        settings.options.httpCookieServiceOptions = {
            renewUrl: data.http_cookie_service_renew_endpoint
        };
    }

    if (data.auto_capture_pii === true){
        settings.options.autoCapturePII = data.auto_capture_pii;
    }
   
    if (data.enable_hashing === true){
        settings.options.enableHashing = true;
    }

    log(LOG_PREFIX + 'Initializing Journify SDK with settings: ', settings);

    journify.load(settings);

    const journifyCalls = copyFromWindow(JOURNIFY_GTM_CALLS_WINDOW_KEY);
    if (journifyCalls) {
        for (let i = 0; i < journifyCalls.length; i++) {
            journifyCalls[i](journify);
        }
        setInWindow(JOURNIFY_GTM_CALLS_WINDOW_KEY, [], true);
    }

    if (data.track_page_view_on_init === true) {
        page();
    }

    log(LOG_PREFIX + 'Success: initializing Journify SDK');
    data.gtmOnSuccess();
};

const dataHasField = (fieldKey) => {
    const val = data[fieldKey];
    return val && val.length > 0;
};

const identify = () => {
    const traits = makeTableMap(data.user_traits || [], 'key', 'value');
    let externalIds = null;
    if (dataHasField('external_ids')) {
        externalIds = makeTableMap(data.external_ids || [], 'key', 'value');
    }

    journifyWrapper.identify(data.user_id, traits, externalIds);
};

const group = () => {
    const traits = makeTableMap(data.group_traits || [], 'key', 'value');
    journifyWrapper.group(data.group_id, traits);
};

const track = () => {
    const properties = makeTableMap(data.track_properties || [], 'key', 'value');
    const traits = makeTableMap(data.user_traits || [], 'key', 'value');
    journifyWrapper.track(data.event_name, properties, traits);
};

const page = () => {
    let pageName = data.page_name;
    if (!pageName) {
        pageName = readTitle();
    }

    const properties = makeTableMap(data.page_properties || [], 'key', 'value');
    const traits = makeTableMap(data.user_traits || [], 'key', 'value');

    journifyWrapper.page(pageName, properties, traits);
};

const dataLayerEvent = () => {
    initDataLayerVariables();
    const eventsMap = getDataLayerMappedEvents();
    if (!dataLayerEventName) {
        log(LOG_PREFIX + ' Event name is not defined, skipping event');
        return;
    }

    const eventType = eventsMap[dataLayerEventName];
    log(LOG_PREFIX + ' eventType', eventType);
    if (!eventType) {
        log(LOG_PREFIX + 'Event name`'+ dataLayerEventName +'` is not mapped, skipping event');
        return;
    }

    switch(eventType) {
        case 'identify':
            dataLayerIdentify();
            break;
        case 'group':
            dataLayerGroup();
            break;
        case 'track':
            dataLayerTrack(dataLayerEventName);
            break;
        case 'page':
            dataLayerPage();
            break;
        default:
            log(LOG_PREFIX + 'Event name`'+ dataLayerEventName +'` is mapped to unsupported event type `'+ eventType +'`, skipping event');
            break;
    }

};

const initDataLayerVariables = () => {
    const eventNameKey = dataHasField('data_layer_event_name_key') ? data.data_layer_event_name_key : 'event';
    dataLayerEventName = copyFromDataLayer(eventNameKey) || copyFromDataLayer('event_name');
    dataLayerUserId = copyFromDataLayer('user_id');
    dataLayerExternalIds = copyFromDataLayer('external_ids');
    dataLayerTraits = copyFromDataLayer('traits') || {};

    const traitsKeys = {
        'user_data.email_address': 'email',
        'user_data.phone_number': 'phone',
        'user_data.first_name': 'firstname',
        'user_data.last_name': 'lastname',
        'user_data.street': 'street_address',
        'user_data.city': 'city',
        'user_data.region': 'state_code',
        'user_data.postal_code': 'postal_code',
        'user_data.country': 'country_code',
    };

    dataLayerPageName = copyFromDataLayer('name');

    for (let key in traitsKeys) {
        const journifyKey = traitsKeys[key];
        const value = copyFromDataLayer(key);
        if (value) {
            dataLayerTraits[journifyKey] = value;
        }
    }

    if (dataHasField('user_traits')) {
        for (let i = 0; i < data.user_traits.length; i++) {
            const key = data.user_traits[i].key;
            const value = data.user_traits[i].value;
            if (value) {
                dataLayerTraits[key] = value;
            }
        }
    }

    if (dataHasField('data_layer_trait_keys')) {
        for (let i = 0; i < data.data_layer_trait_keys.length; i++) {
            const key = data.data_layer_trait_keys[i].trait_key;
            const value = copyFromDataLayer(key);
            if (value) {
                dataLayerTraits[key] = value;
            }
        }
    }

    dataLayerGroupId = copyFromDataLayer('group_id');

    dataLayerEventProperties = copyKeysFromDataLayer(STANDARD_DATA_LAYER_EVENT_KEYS);

    if (dataHasField('additional_data_layer_properties')) {
        for (let i = 0; i < data.additional_data_layer_properties.length; i++) {
            const key = data.additional_data_layer_properties[i].property_key;
            const value = copyFromDataLayer(key);
            if (value) {
                dataLayerEventProperties[key] = value;
            }
        }
    }

    if (dataHasField('data_layer_prop_values')) {
        const props = makeTableMap(data.data_layer_prop_values || [], 'key', 'value');
        copyObj(dataLayerEventProperties, props);
    }

    const ecommerce = copyFromDataLayer('ecommerce');
    if (getType(ecommerce) == 'object') {
        copyObj(dataLayerEventProperties, ecommerce);
    }

    const nestedProperties = copyFromDataLayer('properties');
    if (getType(nestedProperties) == 'object') {
        copyObj(dataLayerEventProperties, nestedProperties);
    }
};

const dataLayerIdentify = () => {
    if (!dataLayerUserId) {
        return fail('`user_id` is required when calling `identify`');
    }

    journifyWrapper.identify(dataLayerUserId, dataLayerTraits,  dataLayerExternalIds);
};

const dataLayerGroup = () => {
    if (!dataLayerGroupId) {
        return fail('`group_id` is required when calling `group`');
    }

    journifyWrapper.group(dataLayerGroupId, dataLayerTraits);
};

const dataLayerTrack = (eventName) => {
    log(LOG_PREFIX + ' eventName', eventName);
    journifyWrapper.track(eventName, dataLayerEventProperties, dataLayerTraits);
};

const dataLayerPage = () => {
    if (!dataLayerPageName) {
        dataLayerPageName = readTitle();
    }

    journifyWrapper.page(dataLayerPageName, dataLayerEventProperties, dataLayerTraits);
};

const getDataLayerMappedEvents = () => {
    const mappings = [];
    if (data.ga4_enhannced_events_enabled === true && data.ga4_enhannced_events_mapping && data.ga4_enhannced_events_mapping.length > 0) {
        mappings.push(data.ga4_enhannced_events_mapping);
    }

    if (data.ga4_recommended_events_enabled === true && data.ga4_recommended_events_mapping && data.ga4_recommended_events_mapping.length > 0) {
        mappings.push(data.ga4_recommended_events_mapping);
    }

    if (data.ga4_automatic_events_enabled === true && data.ga4_automatic_events_mapping && data.ga4_automatic_events_mapping.length > 0) {
        mappings.push(data.ga4_automatic_events_mapping);
    }


    if (data.data_layer_additional_mappings && data.data_layer_additional_mappings.length > 0) {
        mappings.push(data.data_layer_additional_mappings);
    }

    const eventsMap = {};
    for (let i = 0; i < mappings.length; i++) {
        const currentMap = makeTableMap(mappings[i] || [], 'event_name', 'event_type');
        copyObj(eventsMap, currentMap);
    }

    return eventsMap;
};

const copyObj = (target, source) => {
    for (let key in source) {
        target[key] = source[key];
    }
};

const copyKeysFromDataLayer = (keys) => {
    const copy = {};
    keys.forEach((key) => {
        const value = copyFromDataLayer(key);
        if (value) {
            copy[key] = value;
        }
    });

    return copy;
};

const onfailure = () => {
    return fail('Failed to load the Journify JavaScript library');
};

const journifyWrapper = {
    identify: (userId, traits, externalIds) => {
        const journify = copyFromWindow(JOURNIFY_WINDOW_KEY);
        if (journify) {
            journify.identify(userId, traits, externalIds);
        } else {
            recordCall((journify) => journify.identify(userId, traits, externalIds));
        }
    },
    group: (groupId, traits) => {
        const journify = copyFromWindow(JOURNIFY_WINDOW_KEY);
        if (journify) {
            journify.group(groupId, traits);
        } else {
            recordCall((journify) => journify.group(groupId, traits));
        }
    },
    track: (eventName, properties, traits) => {
        const journify = copyFromWindow(JOURNIFY_WINDOW_KEY);
        if (journify) {
            journify.track(eventName, properties, traits);
        } else {
            recordCall((journify) => journify.track(eventName, properties, traits));
        }
    },
    page: (pageName, properties, traits) => {
        const journify = copyFromWindow(JOURNIFY_WINDOW_KEY);
        if (journify) {
            journify.page(pageName, properties, traits);
        } else {
            recordCall((journify) => journify.page(pageName, properties, traits));
        }
    },
};

const recordCall = (call) => {
    let journifyCalls = copyFromWindow(JOURNIFY_GTM_CALLS_WINDOW_KEY);
    if (!journifyCalls) {
        journifyCalls = [];
    }

    journifyCalls.push(call);
    setInWindow(JOURNIFY_GTM_CALLS_WINDOW_KEY, journifyCalls, true);
};

// Main
let dataLayerEventName = null;
let dataLayerEventProperties = null;
let dataLayerUserId = null;
let dataLayerExternalIds = null;
let dataLayerTraits = null;
let dataLayerPageName = null;
let dataLayerGroupId = null;

if (data.tag_type == 'init') {
    const sdkVersion = data.sdk_version || DEFAULT_SDK_VERSION;
    const jsScriptURL = 'https://static.journify.io/@journifyio/js-sdk@'+sdkVersion+'/journifyio.min.js';
    injectScript(jsScriptURL, init, onfailure, 'journify');
} else {
    switch(data.tag_type) {
        case 'identify':
            identify();
            break;

        case 'group':
            group();
            break;

        case 'track':
            track();
            break;

        case 'page':
            page();
            break;

        case 'data_layer_event':
            dataLayerEvent();
            break;

        default:
            log(LOG_PREFIX + ' Unsupported tag type `'+ data.tag_type +'`, skipping');
            break;
    }

    data.gtmOnSuccess();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "journify"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "journifyGtmCalls"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://static.journify.io/@journifyio/js-sdk@*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedKeys",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_title",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 3/28/2023, 1:47:47 PM


